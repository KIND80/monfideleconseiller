{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{supabase}from\"./supabaseClient\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AppelContact(_ref){let{agentId}=_ref;const[contacts,setContacts]=useState([]);const[filtered,setFiltered]=useState([]);const[search,setSearch]=useState(\"\");const[categorie,setCategorie]=useState(\"\");const[current,setCurrent]=useState(null);const[etatAppel,setEtatAppel]=useState(\"init\");const[historique,setHistorique]=useState([]);const[commentaire,setCommentaire]=useState(\"\");useEffect(()=>{const fetchData=async()=>{const response=await supabase.from(\"contacts\").select(\"*\").eq(\"statut\",\"non_assigné\").eq(\"visible_globally\",true);setContacts(response.data||[]);setFiltered(response.data||[]);};fetchData();},[]);useEffect(()=>{let filtres=[...contacts];if(search){filtres=filtres.filter(c=>c.telephone.replace(/\\s/g,\"\").includes(search.replace(/\\s/g,\"\")));}if(categorie){filtres=filtres.filter(c=>c.categorie_contact===categorie);}setFiltered(filtres);if(!search&&filtres.length>0){setCurrent(filtres[Math.floor(Math.random()*filtres.length)]);}},[search,categorie,contacts]);useEffect(()=>{const fetchHistorique=async()=>{if(!current)return;// 👇 Aucune vérification de type ici\nconst response=await supabase.from(\"call_history\").select(\"id, date, statut_appel, commentaire\").eq(\"contact_id\",current.id).order(\"date\",{ascending:false}).limit(3);// 👇 On caste à la fin uniquement\nsetHistorique(response.data||[]);};fetchHistorique();},[current]);const enregistrerAppel=async(statut,commentaireFinal)=>{if(!current)return;await supabase.from(\"call_history\").insert({contact_id:current.id,agent_id:agentId,statut_appel:statut,commentaire:commentaireFinal});};const handleInjoignable=async()=>{await enregistrerAppel(\"non_signature\",\"Injoignable\");nextContact();};const handleRdv=async()=>{if(!current||!commentaire.trim())return;await enregistrerAppel(\"signature\",commentaire.trim());await supabase.from(\"contacts\").update({agent_id:agentId,statut:\"rdv\",visible_globally:false}).eq(\"id\",current.id);const url=\"https://calendar.google.com/calendar/u/0/r/eventedit?text=RDV+\".concat(current.nom,\"&details=Tel:+\").concat(current.telephone);window.open(url,\"_blank\");nextContact();};const handleValiderCommentaire=async()=>{if(!current||!commentaire.trim())return;await enregistrerAppel(\"signature\",commentaire.trim());nextContact();};const nextContact=()=>{const restants=filtered.filter(c=>c.id!==(current===null||current===void 0?void 0:current.id));setCurrent(restants.length>0?restants[Math.floor(Math.random()*restants.length)]:null);setEtatAppel(\"init\");setCommentaire(\"\");};if(!current){return/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\",paddingTop:40},children:\"\\uD83D\\uDCF4 Aucun contact pour le moment. Revenez demain.\"});}const avatarUrl=\"https://avatars.dicebear.com/api/initials/\".concat(encodeURIComponent(current.nom||\"Contact\"),\".svg\");return/*#__PURE__*/_jsxs(\"div\",{style:{padding:20,fontFamily:\"Arial\",maxWidth:700,margin:\"auto\"},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCC2 Portefeuille Global\"}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexWrap:\"wrap\",gap:10,marginBottom:20},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uD83D\\uDD0D Rechercher num\\xE9ro\",value:search,onChange:e=>setSearch(e.target.value),style:{flex:1,padding:8}}),/*#__PURE__*/_jsxs(\"select\",{value:categorie,onChange:e=>setCategorie(e.target.value),style:{padding:8},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Cat\\xE9gorie\"}),/*#__PURE__*/_jsx(\"option\",{value:\"phoning\",children:\"Phoning\"}),/*#__PURE__*/_jsx(\"option\",{value:\"subside\",children:\"Subside\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{border:\"1px solid #ccc\",padding:15,borderRadius:8},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",marginBottom:10},children:[/*#__PURE__*/_jsx(\"img\",{src:avatarUrl,alt:\"avatar\",style:{width:50,height:50,borderRadius:\"50%\",marginRight:10}}),/*#__PURE__*/_jsx(\"h3\",{style:{margin:0},children:current.nom})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCDE T\\xE9l\\xE9phone :\"}),\" \",current.telephone]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDCCD Adresse :\"}),\" \",current.adresse,\" \",current.npa]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83C\\uDFF7\\uFE0F Cat\\xE9gorie :\"}),\" \",current.categorie_contact]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83E\\uDDED Canton :\"}),\" \",current.canton]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDEE1\\uFE0F Assurance :\"}),\" \",current.type_assurance||\"—\"]}),etatAppel===\"init\"?/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:10},children:[/*#__PURE__*/_jsx(\"a\",{href:\"tel:\".concat(current.telephone),children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEtatAppel(\"en_cours\"),style:{marginRight:10},children:\"\\uD83D\\uDCDE Appeler\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:nextContact,children:\"\\u23ED\\uFE0F Passer\"})]}):etatAppel===\"en_cours\"?/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:10},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleInjoignable,style:{marginRight:10,backgroundColor:\"#f44336\",color:\"#fff\",padding:\"8px\"},children:\"\\u274C Injoignable\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEtatAppel(\"oui\"),style:{backgroundColor:\"#4CAF50\",color:\"#fff\",padding:\"8px\"},children:\"\\u2705 Oui\"})]}):/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:10},children:[/*#__PURE__*/_jsx(\"textarea\",{value:commentaire,onChange:e=>setCommentaire(e.target.value),placeholder:\"\\uD83D\\uDCDD Ajouter un commentaire obligatoire\",style:{width:\"100%\",padding:8,marginBottom:10},rows:3}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleRdv,disabled:!commentaire.trim(),style:{marginRight:10},children:\"\\uD83D\\uDCC5 RDV\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleValiderCommentaire,disabled:!commentaire.trim(),children:\"\\uD83D\\uDCDD Valider le commentaire\"})]})]}),historique.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:20},children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCDE 3 derniers appels\"}),/*#__PURE__*/_jsx(\"ul\",{style:{paddingLeft:20},children:historique.map(appel=>/*#__PURE__*/_jsxs(\"li\",{children:[\"\\uD83D\\uDCC5 \",new Date(appel.date).toLocaleDateString(\"fr-FR\"),\" \\u2014 \",appel.statut_appel,/*#__PURE__*/_jsx(\"br\",{}),\"\\uD83D\\uDCDD \",appel.commentaire]},appel.id))})]})]})]});}","map":{"version":3,"names":["React","useEffect","useState","supabase","jsx","_jsx","jsxs","_jsxs","AppelContact","_ref","agentId","contacts","setContacts","filtered","setFiltered","search","setSearch","categorie","setCategorie","current","setCurrent","etatAppel","setEtatAppel","historique","setHistorique","commentaire","setCommentaire","fetchData","response","from","select","eq","data","filtres","filter","c","telephone","replace","includes","categorie_contact","length","Math","floor","random","fetchHistorique","id","order","ascending","limit","enregistrerAppel","statut","commentaireFinal","insert","contact_id","agent_id","statut_appel","handleInjoignable","nextContact","handleRdv","trim","update","visible_globally","url","concat","nom","window","open","handleValiderCommentaire","restants","style","textAlign","paddingTop","children","avatarUrl","encodeURIComponent","padding","fontFamily","maxWidth","margin","display","flexWrap","gap","marginBottom","type","placeholder","value","onChange","e","target","flex","border","borderRadius","alignItems","src","alt","width","height","marginRight","adresse","npa","canton","type_assurance","marginTop","href","onClick","backgroundColor","color","rows","disabled","paddingLeft","map","appel","Date","date","toLocaleDateString"],"sources":["C:/Users/user/Downloads/monfideleconseiller/src/AppelContact.tsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { supabase } from \"./supabaseClient\";\r\n\r\ntype Contact = {\r\n  id: string;\r\n  nom: string;\r\n  telephone: string;\r\n  adresse: string;\r\n  npa: string;\r\n  categorie_contact: string;\r\n  type_assurance: string;\r\n  canton: string;\r\n};\r\n\r\ntype Appel = {\r\n  id: string;\r\n  date: string;\r\n  statut_appel: string;\r\n  commentaire: string;\r\n};\r\n\r\nexport default function AppelContact({ agentId }: { agentId: string }) {\r\n  const [contacts, setContacts] = useState<Contact[]>([]);\r\n  const [filtered, setFiltered] = useState<Contact[]>([]);\r\n  const [search, setSearch] = useState(\"\");\r\n  const [categorie, setCategorie] = useState(\"\");\r\n  const [current, setCurrent] = useState<Contact | null>(null);\r\n  const [etatAppel, setEtatAppel] = useState<\"init\" | \"en_cours\" | \"oui\">(\"init\");\r\n  const [historique, setHistorique] = useState<Appel[]>([]);\r\n  const [commentaire, setCommentaire] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const response = await supabase\r\n        .from(\"contacts\")\r\n        .select(\"*\")\r\n        .eq(\"statut\", \"non_assigné\")\r\n        .eq(\"visible_globally\", true);\r\n\r\n      setContacts(response.data || []);\r\n      setFiltered(response.data || []);\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    let filtres = [...contacts];\r\n\r\n    if (search) {\r\n      filtres = filtres.filter((c) =>\r\n        c.telephone.replace(/\\s/g, \"\").includes(search.replace(/\\s/g, \"\"))\r\n      );\r\n    }\r\n\r\n    if (categorie) {\r\n      filtres = filtres.filter((c) => c.categorie_contact === categorie);\r\n    }\r\n\r\n    setFiltered(filtres);\r\n\r\n    if (!search && filtres.length > 0) {\r\n      setCurrent(filtres[Math.floor(Math.random() * filtres.length)]);\r\n    }\r\n  }, [search, categorie, contacts]);\r\n\r\n  useEffect(() => {\r\n  const fetchHistorique = async () => {\r\n    if (!current) return;\r\n\r\n    // 👇 Aucune vérification de type ici\r\n    const response = await supabase\r\n      .from(\"call_history\")\r\n      .select(\"id, date, statut_appel, commentaire\")\r\n      .eq(\"contact_id\", current.id)\r\n      .order(\"date\", { ascending: false })\r\n      .limit(3);\r\n\r\n    // 👇 On caste à la fin uniquement\r\n    setHistorique((response.data || []) as any);\r\n  };\r\n\r\n  fetchHistorique();\r\n}, [current]);\r\n\r\n\r\n\r\n  const enregistrerAppel = async (\r\n    statut: \"signature\" | \"non_signature\",\r\n    commentaireFinal: string\r\n  ) => {\r\n    if (!current) return;\r\n\r\n    await supabase.from(\"call_history\").insert({\r\n      contact_id: current.id,\r\n      agent_id: agentId,\r\n      statut_appel: statut,\r\n      commentaire: commentaireFinal,\r\n    });\r\n  };\r\n\r\n  const handleInjoignable = async () => {\r\n    await enregistrerAppel(\"non_signature\", \"Injoignable\");\r\n    nextContact();\r\n  };\r\n\r\n  const handleRdv = async () => {\r\n    if (!current || !commentaire.trim()) return;\r\n\r\n    await enregistrerAppel(\"signature\", commentaire.trim());\r\n\r\n    await supabase\r\n      .from(\"contacts\")\r\n      .update({\r\n        agent_id: agentId,\r\n        statut: \"rdv\",\r\n        visible_globally: false,\r\n      })\r\n      .eq(\"id\", current.id);\r\n\r\n    const url = `https://calendar.google.com/calendar/u/0/r/eventedit?text=RDV+${current.nom}&details=Tel:+${current.telephone}`;\r\n    window.open(url, \"_blank\");\r\n\r\n    nextContact();\r\n  };\r\n\r\n  const handleValiderCommentaire = async () => {\r\n    if (!current || !commentaire.trim()) return;\r\n\r\n    await enregistrerAppel(\"signature\", commentaire.trim());\r\n    nextContact();\r\n  };\r\n\r\n  const nextContact = () => {\r\n    const restants = filtered.filter((c) => c.id !== current?.id);\r\n    setCurrent(\r\n      restants.length > 0\r\n        ? restants[Math.floor(Math.random() * restants.length)]\r\n        : null\r\n    );\r\n    setEtatAppel(\"init\");\r\n    setCommentaire(\"\");\r\n  };\r\n\r\n  if (!current) {\r\n    return (\r\n      <p style={{ textAlign: \"center\", paddingTop: 40 }}>\r\n        📴 Aucun contact pour le moment. Revenez demain.\r\n      </p>\r\n    );\r\n  }\r\n\r\n  const avatarUrl = `https://avatars.dicebear.com/api/initials/${encodeURIComponent(\r\n    current.nom || \"Contact\"\r\n  )}.svg`;\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: 20,\r\n        fontFamily: \"Arial\",\r\n        maxWidth: 700,\r\n        margin: \"auto\",\r\n      }}\r\n    >\r\n      <h2>📂 Portefeuille Global</h2>\r\n\r\n      <div style={{ display: \"flex\", flexWrap: \"wrap\", gap: 10, marginBottom: 20 }}>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"🔍 Rechercher numéro\"\r\n          value={search}\r\n          onChange={(e) => setSearch(e.target.value)}\r\n          style={{ flex: 1, padding: 8 }}\r\n        />\r\n        <select\r\n          value={categorie}\r\n          onChange={(e) => setCategorie(e.target.value)}\r\n          style={{ padding: 8 }}\r\n        >\r\n          <option value=\"\">Catégorie</option>\r\n          <option value=\"phoning\">Phoning</option>\r\n          <option value=\"subside\">Subside</option>\r\n        </select>\r\n      </div>\r\n\r\n      <div style={{ border: \"1px solid #ccc\", padding: 15, borderRadius: 8 }}>\r\n        <div style={{ display: \"flex\", alignItems: \"center\", marginBottom: 10 }}>\r\n          <img\r\n            src={avatarUrl}\r\n            alt=\"avatar\"\r\n            style={{ width: 50, height: 50, borderRadius: \"50%\", marginRight: 10 }}\r\n          />\r\n          <h3 style={{ margin: 0 }}>{current.nom}</h3>\r\n        </div>\r\n\r\n        <p><strong>📞 Téléphone :</strong> {current.telephone}</p>\r\n        <p><strong>📍 Adresse :</strong> {current.adresse} {current.npa}</p>\r\n        <p><strong>🏷️ Catégorie :</strong> {current.categorie_contact}</p>\r\n        <p><strong>🧭 Canton :</strong> {current.canton}</p>\r\n        <p><strong>🛡️ Assurance :</strong> {current.type_assurance || \"—\"}</p>\r\n\r\n        {etatAppel === \"init\" ? (\r\n          <div style={{ marginTop: 10 }}>\r\n            <a href={`tel:${current.telephone}`}>\r\n              <button onClick={() => setEtatAppel(\"en_cours\")} style={{ marginRight: 10 }}>\r\n                📞 Appeler\r\n              </button>\r\n            </a>\r\n            <button onClick={nextContact}>⏭️ Passer</button>\r\n          </div>\r\n        ) : etatAppel === \"en_cours\" ? (\r\n          <div style={{ marginTop: 10 }}>\r\n            <button\r\n              onClick={handleInjoignable}\r\n              style={{\r\n                marginRight: 10,\r\n                backgroundColor: \"#f44336\",\r\n                color: \"#fff\",\r\n                padding: \"8px\",\r\n              }}\r\n            >\r\n              ❌ Injoignable\r\n            </button>\r\n            <button\r\n              onClick={() => setEtatAppel(\"oui\")}\r\n              style={{ backgroundColor: \"#4CAF50\", color: \"#fff\", padding: \"8px\" }}\r\n            >\r\n              ✅ Oui\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <div style={{ marginTop: 10 }}>\r\n            <textarea\r\n              value={commentaire}\r\n              onChange={(e) => setCommentaire(e.target.value)}\r\n              placeholder=\"📝 Ajouter un commentaire obligatoire\"\r\n              style={{ width: \"100%\", padding: 8, marginBottom: 10 }}\r\n              rows={3}\r\n            />\r\n            <div>\r\n              <button\r\n                onClick={handleRdv}\r\n                disabled={!commentaire.trim()}\r\n                style={{ marginRight: 10 }}\r\n              >\r\n                📅 RDV\r\n              </button>\r\n              <button\r\n                onClick={handleValiderCommentaire}\r\n                disabled={!commentaire.trim()}\r\n              >\r\n                📝 Valider le commentaire\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {historique.length > 0 && (\r\n          <div style={{ marginTop: 20 }}>\r\n            <h4>📞 3 derniers appels</h4>\r\n            <ul style={{ paddingLeft: 20 }}>\r\n              {historique.map((appel) => (\r\n                <li key={appel.id}>\r\n                  📅 {new Date(appel.date).toLocaleDateString(\"fr-FR\")} — {appel.statut_appel}\r\n                  <br />\r\n                  📝 {appel.commentaire}\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,QAAQ,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAoB5C,cAAe,SAAS,CAAAC,YAAYA,CAAAC,IAAA,CAAmC,IAAlC,CAAEC,OAA6B,CAAC,CAAAD,IAAA,CACnE,KAAM,CAACE,QAAQ,CAAEC,WAAW,CAAC,CAAGV,QAAQ,CAAY,EAAE,CAAC,CACvD,KAAM,CAACW,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAY,EAAE,CAAC,CACvD,KAAM,CAACa,MAAM,CAAEC,SAAS,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACe,SAAS,CAAEC,YAAY,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAC9C,KAAM,CAACiB,OAAO,CAAEC,UAAU,CAAC,CAAGlB,QAAQ,CAAiB,IAAI,CAAC,CAC5D,KAAM,CAACmB,SAAS,CAAEC,YAAY,CAAC,CAAGpB,QAAQ,CAA8B,MAAM,CAAC,CAC/E,KAAM,CAACqB,UAAU,CAAEC,aAAa,CAAC,CAAGtB,QAAQ,CAAU,EAAE,CAAC,CACzD,KAAM,CAACuB,WAAW,CAAEC,cAAc,CAAC,CAAGxB,QAAQ,CAAC,EAAE,CAAC,CAElDD,SAAS,CAAC,IAAM,CACd,KAAM,CAAA0B,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAzB,QAAQ,CAC5B0B,IAAI,CAAC,UAAU,CAAC,CAChBC,MAAM,CAAC,GAAG,CAAC,CACXC,EAAE,CAAC,QAAQ,CAAE,aAAa,CAAC,CAC3BA,EAAE,CAAC,kBAAkB,CAAE,IAAI,CAAC,CAE/BnB,WAAW,CAACgB,QAAQ,CAACI,IAAI,EAAI,EAAE,CAAC,CAChClB,WAAW,CAACc,QAAQ,CAACI,IAAI,EAAI,EAAE,CAAC,CAClC,CAAC,CAEDL,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN1B,SAAS,CAAC,IAAM,CACd,GAAI,CAAAgC,OAAO,CAAG,CAAC,GAAGtB,QAAQ,CAAC,CAE3B,GAAII,MAAM,CAAE,CACVkB,OAAO,CAAGA,OAAO,CAACC,MAAM,CAAEC,CAAC,EACzBA,CAAC,CAACC,SAAS,CAACC,OAAO,CAAC,KAAK,CAAE,EAAE,CAAC,CAACC,QAAQ,CAACvB,MAAM,CAACsB,OAAO,CAAC,KAAK,CAAE,EAAE,CAAC,CACnE,CAAC,CACH,CAEA,GAAIpB,SAAS,CAAE,CACbgB,OAAO,CAAGA,OAAO,CAACC,MAAM,CAAEC,CAAC,EAAKA,CAAC,CAACI,iBAAiB,GAAKtB,SAAS,CAAC,CACpE,CAEAH,WAAW,CAACmB,OAAO,CAAC,CAEpB,GAAI,CAAClB,MAAM,EAAIkB,OAAO,CAACO,MAAM,CAAG,CAAC,CAAE,CACjCpB,UAAU,CAACa,OAAO,CAACQ,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAGV,OAAO,CAACO,MAAM,CAAC,CAAC,CAAC,CACjE,CACF,CAAC,CAAE,CAACzB,MAAM,CAAEE,SAAS,CAAEN,QAAQ,CAAC,CAAC,CAEjCV,SAAS,CAAC,IAAM,CAChB,KAAM,CAAA2C,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClC,GAAI,CAACzB,OAAO,CAAE,OAEd;AACA,KAAM,CAAAS,QAAQ,CAAG,KAAM,CAAAzB,QAAQ,CAC5B0B,IAAI,CAAC,cAAc,CAAC,CACpBC,MAAM,CAAC,qCAAqC,CAAC,CAC7CC,EAAE,CAAC,YAAY,CAAEZ,OAAO,CAAC0B,EAAE,CAAC,CAC5BC,KAAK,CAAC,MAAM,CAAE,CAAEC,SAAS,CAAE,KAAM,CAAC,CAAC,CACnCC,KAAK,CAAC,CAAC,CAAC,CAEX;AACAxB,aAAa,CAAEI,QAAQ,CAACI,IAAI,EAAI,EAAU,CAAC,CAC7C,CAAC,CAEDY,eAAe,CAAC,CAAC,CACnB,CAAC,CAAE,CAACzB,OAAO,CAAC,CAAC,CAIX,KAAM,CAAA8B,gBAAgB,CAAG,KAAAA,CACvBC,MAAqC,CACrCC,gBAAwB,GACrB,CACH,GAAI,CAAChC,OAAO,CAAE,OAEd,KAAM,CAAAhB,QAAQ,CAAC0B,IAAI,CAAC,cAAc,CAAC,CAACuB,MAAM,CAAC,CACzCC,UAAU,CAAElC,OAAO,CAAC0B,EAAE,CACtBS,QAAQ,CAAE5C,OAAO,CACjB6C,YAAY,CAAEL,MAAM,CACpBzB,WAAW,CAAE0B,gBACf,CAAC,CAAC,CACJ,CAAC,CAED,KAAM,CAAAK,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,KAAM,CAAAP,gBAAgB,CAAC,eAAe,CAAE,aAAa,CAAC,CACtDQ,WAAW,CAAC,CAAC,CACf,CAAC,CAED,KAAM,CAAAC,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,GAAI,CAACvC,OAAO,EAAI,CAACM,WAAW,CAACkC,IAAI,CAAC,CAAC,CAAE,OAErC,KAAM,CAAAV,gBAAgB,CAAC,WAAW,CAAExB,WAAW,CAACkC,IAAI,CAAC,CAAC,CAAC,CAEvD,KAAM,CAAAxD,QAAQ,CACX0B,IAAI,CAAC,UAAU,CAAC,CAChB+B,MAAM,CAAC,CACNN,QAAQ,CAAE5C,OAAO,CACjBwC,MAAM,CAAE,KAAK,CACbW,gBAAgB,CAAE,KACpB,CAAC,CAAC,CACD9B,EAAE,CAAC,IAAI,CAAEZ,OAAO,CAAC0B,EAAE,CAAC,CAEvB,KAAM,CAAAiB,GAAG,kEAAAC,MAAA,CAAoE5C,OAAO,CAAC6C,GAAG,mBAAAD,MAAA,CAAiB5C,OAAO,CAACiB,SAAS,CAAE,CAC5H6B,MAAM,CAACC,IAAI,CAACJ,GAAG,CAAE,QAAQ,CAAC,CAE1BL,WAAW,CAAC,CAAC,CACf,CAAC,CAED,KAAM,CAAAU,wBAAwB,CAAG,KAAAA,CAAA,GAAY,CAC3C,GAAI,CAAChD,OAAO,EAAI,CAACM,WAAW,CAACkC,IAAI,CAAC,CAAC,CAAE,OAErC,KAAM,CAAAV,gBAAgB,CAAC,WAAW,CAAExB,WAAW,CAACkC,IAAI,CAAC,CAAC,CAAC,CACvDF,WAAW,CAAC,CAAC,CACf,CAAC,CAED,KAAM,CAAAA,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAAAW,QAAQ,CAAGvD,QAAQ,CAACqB,MAAM,CAAEC,CAAC,EAAKA,CAAC,CAACU,EAAE,IAAK1B,OAAO,SAAPA,OAAO,iBAAPA,OAAO,CAAE0B,EAAE,EAAC,CAC7DzB,UAAU,CACRgD,QAAQ,CAAC5B,MAAM,CAAG,CAAC,CACf4B,QAAQ,CAAC3B,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,CAAGyB,QAAQ,CAAC5B,MAAM,CAAC,CAAC,CACrD,IACN,CAAC,CACDlB,YAAY,CAAC,MAAM,CAAC,CACpBI,cAAc,CAAC,EAAE,CAAC,CACpB,CAAC,CAED,GAAI,CAACP,OAAO,CAAE,CACZ,mBACEd,IAAA,MAAGgE,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAQ,CAAEC,UAAU,CAAE,EAAG,CAAE,CAAAC,QAAA,CAAC,4DAEnD,CAAG,CAAC,CAER,CAEA,KAAM,CAAAC,SAAS,8CAAAV,MAAA,CAAgDW,kBAAkB,CAC/EvD,OAAO,CAAC6C,GAAG,EAAI,SACjB,CAAC,QAAM,CAEP,mBACEzD,KAAA,QACE8D,KAAK,CAAE,CACLM,OAAO,CAAE,EAAE,CACXC,UAAU,CAAE,OAAO,CACnBC,QAAQ,CAAE,GAAG,CACbC,MAAM,CAAE,MACV,CAAE,CAAAN,QAAA,eAEFnE,IAAA,OAAAmE,QAAA,CAAI,kCAAsB,CAAI,CAAC,cAE/BjE,KAAA,QAAK8D,KAAK,CAAE,CAAEU,OAAO,CAAE,MAAM,CAAEC,QAAQ,CAAE,MAAM,CAAEC,GAAG,CAAE,EAAE,CAAEC,YAAY,CAAE,EAAG,CAAE,CAAAV,QAAA,eAC3EnE,IAAA,UACE8E,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,mCAAsB,CAClCC,KAAK,CAAEtE,MAAO,CACduE,QAAQ,CAAGC,CAAC,EAAKvE,SAAS,CAACuE,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC3ChB,KAAK,CAAE,CAAEoB,IAAI,CAAE,CAAC,CAAEd,OAAO,CAAE,CAAE,CAAE,CAChC,CAAC,cACFpE,KAAA,WACE8E,KAAK,CAAEpE,SAAU,CACjBqE,QAAQ,CAAGC,CAAC,EAAKrE,YAAY,CAACqE,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAC9ChB,KAAK,CAAE,CAAEM,OAAO,CAAE,CAAE,CAAE,CAAAH,QAAA,eAEtBnE,IAAA,WAAQgF,KAAK,CAAC,EAAE,CAAAb,QAAA,CAAC,cAAS,CAAQ,CAAC,cACnCnE,IAAA,WAAQgF,KAAK,CAAC,SAAS,CAAAb,QAAA,CAAC,SAAO,CAAQ,CAAC,cACxCnE,IAAA,WAAQgF,KAAK,CAAC,SAAS,CAAAb,QAAA,CAAC,SAAO,CAAQ,CAAC,EAClC,CAAC,EACN,CAAC,cAENjE,KAAA,QAAK8D,KAAK,CAAE,CAAEqB,MAAM,CAAE,gBAAgB,CAAEf,OAAO,CAAE,EAAE,CAAEgB,YAAY,CAAE,CAAE,CAAE,CAAAnB,QAAA,eACrEjE,KAAA,QAAK8D,KAAK,CAAE,CAAEU,OAAO,CAAE,MAAM,CAAEa,UAAU,CAAE,QAAQ,CAAEV,YAAY,CAAE,EAAG,CAAE,CAAAV,QAAA,eACtEnE,IAAA,QACEwF,GAAG,CAAEpB,SAAU,CACfqB,GAAG,CAAC,QAAQ,CACZzB,KAAK,CAAE,CAAE0B,KAAK,CAAE,EAAE,CAAEC,MAAM,CAAE,EAAE,CAAEL,YAAY,CAAE,KAAK,CAAEM,WAAW,CAAE,EAAG,CAAE,CACxE,CAAC,cACF5F,IAAA,OAAIgE,KAAK,CAAE,CAAES,MAAM,CAAE,CAAE,CAAE,CAAAN,QAAA,CAAErD,OAAO,CAAC6C,GAAG,CAAK,CAAC,EACzC,CAAC,cAENzD,KAAA,MAAAiE,QAAA,eAAGnE,IAAA,WAAAmE,QAAA,CAAQ,gCAAc,CAAQ,CAAC,IAAC,CAACrD,OAAO,CAACiB,SAAS,EAAI,CAAC,cAC1D7B,KAAA,MAAAiE,QAAA,eAAGnE,IAAA,WAAAmE,QAAA,CAAQ,wBAAY,CAAQ,CAAC,IAAC,CAACrD,OAAO,CAAC+E,OAAO,CAAC,GAAC,CAAC/E,OAAO,CAACgF,GAAG,EAAI,CAAC,cACpE5F,KAAA,MAAAiE,QAAA,eAAGnE,IAAA,WAAAmE,QAAA,CAAQ,mCAAe,CAAQ,CAAC,IAAC,CAACrD,OAAO,CAACoB,iBAAiB,EAAI,CAAC,cACnEhC,KAAA,MAAAiE,QAAA,eAAGnE,IAAA,WAAAmE,QAAA,CAAQ,uBAAW,CAAQ,CAAC,IAAC,CAACrD,OAAO,CAACiF,MAAM,EAAI,CAAC,cACpD7F,KAAA,MAAAiE,QAAA,eAAGnE,IAAA,WAAAmE,QAAA,CAAQ,gCAAe,CAAQ,CAAC,IAAC,CAACrD,OAAO,CAACkF,cAAc,EAAI,GAAG,EAAI,CAAC,CAEtEhF,SAAS,GAAK,MAAM,cACnBd,KAAA,QAAK8D,KAAK,CAAE,CAAEiC,SAAS,CAAE,EAAG,CAAE,CAAA9B,QAAA,eAC5BnE,IAAA,MAAGkG,IAAI,QAAAxC,MAAA,CAAS5C,OAAO,CAACiB,SAAS,CAAG,CAAAoC,QAAA,cAClCnE,IAAA,WAAQmG,OAAO,CAAEA,CAAA,GAAMlF,YAAY,CAAC,UAAU,CAAE,CAAC+C,KAAK,CAAE,CAAE4B,WAAW,CAAE,EAAG,CAAE,CAAAzB,QAAA,CAAC,sBAE7E,CAAQ,CAAC,CACR,CAAC,cACJnE,IAAA,WAAQmG,OAAO,CAAE/C,WAAY,CAAAe,QAAA,CAAC,qBAAS,CAAQ,CAAC,EAC7C,CAAC,CACJnD,SAAS,GAAK,UAAU,cAC1Bd,KAAA,QAAK8D,KAAK,CAAE,CAAEiC,SAAS,CAAE,EAAG,CAAE,CAAA9B,QAAA,eAC5BnE,IAAA,WACEmG,OAAO,CAAEhD,iBAAkB,CAC3Ba,KAAK,CAAE,CACL4B,WAAW,CAAE,EAAE,CACfQ,eAAe,CAAE,SAAS,CAC1BC,KAAK,CAAE,MAAM,CACb/B,OAAO,CAAE,KACX,CAAE,CAAAH,QAAA,CACH,oBAED,CAAQ,CAAC,cACTnE,IAAA,WACEmG,OAAO,CAAEA,CAAA,GAAMlF,YAAY,CAAC,KAAK,CAAE,CACnC+C,KAAK,CAAE,CAAEoC,eAAe,CAAE,SAAS,CAAEC,KAAK,CAAE,MAAM,CAAE/B,OAAO,CAAE,KAAM,CAAE,CAAAH,QAAA,CACtE,YAED,CAAQ,CAAC,EACN,CAAC,cAENjE,KAAA,QAAK8D,KAAK,CAAE,CAAEiC,SAAS,CAAE,EAAG,CAAE,CAAA9B,QAAA,eAC5BnE,IAAA,aACEgF,KAAK,CAAE5D,WAAY,CACnB6D,QAAQ,CAAGC,CAAC,EAAK7D,cAAc,CAAC6D,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAChDD,WAAW,CAAC,iDAAuC,CACnDf,KAAK,CAAE,CAAE0B,KAAK,CAAE,MAAM,CAAEpB,OAAO,CAAE,CAAC,CAAEO,YAAY,CAAE,EAAG,CAAE,CACvDyB,IAAI,CAAE,CAAE,CACT,CAAC,cACFpG,KAAA,QAAAiE,QAAA,eACEnE,IAAA,WACEmG,OAAO,CAAE9C,SAAU,CACnBkD,QAAQ,CAAE,CAACnF,WAAW,CAACkC,IAAI,CAAC,CAAE,CAC9BU,KAAK,CAAE,CAAE4B,WAAW,CAAE,EAAG,CAAE,CAAAzB,QAAA,CAC5B,kBAED,CAAQ,CAAC,cACTnE,IAAA,WACEmG,OAAO,CAAErC,wBAAyB,CAClCyC,QAAQ,CAAE,CAACnF,WAAW,CAACkC,IAAI,CAAC,CAAE,CAAAa,QAAA,CAC/B,qCAED,CAAQ,CAAC,EACN,CAAC,EACH,CACN,CAEAjD,UAAU,CAACiB,MAAM,CAAG,CAAC,eACpBjC,KAAA,QAAK8D,KAAK,CAAE,CAAEiC,SAAS,CAAE,EAAG,CAAE,CAAA9B,QAAA,eAC5BnE,IAAA,OAAAmE,QAAA,CAAI,gCAAoB,CAAI,CAAC,cAC7BnE,IAAA,OAAIgE,KAAK,CAAE,CAAEwC,WAAW,CAAE,EAAG,CAAE,CAAArC,QAAA,CAC5BjD,UAAU,CAACuF,GAAG,CAAEC,KAAK,eACpBxG,KAAA,OAAAiE,QAAA,EAAmB,eACd,CAAC,GAAI,CAAAwC,IAAI,CAACD,KAAK,CAACE,IAAI,CAAC,CAACC,kBAAkB,CAAC,OAAO,CAAC,CAAC,UAAG,CAACH,KAAK,CAACxD,YAAY,cAC3ElD,IAAA,QAAK,CAAC,gBACH,CAAC0G,KAAK,CAACtF,WAAW,GAHdsF,KAAK,CAAClE,EAIX,CACL,CAAC,CACA,CAAC,EACF,CACN,EACE,CAAC,EACH,CAAC,CAEV","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}