{"ast":null,"code":"import React from\"react\";import{useEffect,useState}from\"react\";import{supabase}from\"./supabaseClient\";// Types\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function DashboardAdmin(){const[stats,setStats]=useState([]);const[contactsAValider,setContactsAValider]=useState([]);const[agents,setAgents]=useState([]);const[appelHistory,setAppelHistory]=useState([]);const[activeTab,setActiveTab]=useState(\"stats\");useEffect(()=>{const fetchData=async()=>{const{data:users,error:userError}=await supabase.from(\"users\").select(\"id, name, email\").eq(\"role\",\"agent\");const{data:calls,error:callError}=await supabase.from(\"call_history\").select(\"*\").order(\"date\",{ascending:false});const{data:contacts,error:contactError}=await supabase.from(\"contacts\").select(\"*\");if(!users||!calls||!contacts||userError||callError||contactError){console.error(\"Erreur lors du chargement des données.\");return;}const finalStats=users.map(agent=>{const appels=calls.filter(c=>c.agent_id===agent.id);const total_appels=appels.length;const signatures=appels.filter(a=>(a.commentaire||\"\").toLowerCase().includes(\"signature\")).length;const non_signatures=appels.filter(a=>(a.commentaire||\"\").toLowerCase().includes(\"non signature\")).length;const a_valider=contacts.filter(c=>c.agent_id===agent.id&&c.statut===\"à_valider\").length;return{id:agent.id,name:agent.name,email:agent.email,total_appels,signatures,non_signatures,a_valider};});setStats(finalStats);setAgents(users);setAppelHistory(calls);};const fetchContactsAValider=async()=>{const{data,error}=await supabase.from(\"contacts\").select(\"*\").eq(\"statut\",\"à_valider\");if(!error&&data){setContactsAValider(data);}};fetchData();fetchContactsAValider();},[]);const validerContact=async id=>{await supabase.from(\"contacts\").update({statut:\"non_assigné\",agent_id:null,rdv_date:null,visible_globally:true}).eq(\"id\",id);setContactsAValider(prev=>prev.filter(c=>c.id!==id));};const archiverContact=async id=>{await supabase.from(\"contacts\").update({statut:\"archivé\",visible_globally:false}).eq(\"id\",id);setContactsAValider(prev=>prev.filter(c=>c.id!==id));};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:20,fontFamily:\"Arial\",maxWidth:1000,margin:\"auto\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\uD83D\\uDC51 Tableau de bord Admin\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:20},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(\"stats\"),style:tabStyle(activeTab===\"stats\",\"#4CAF50\"),children:\"\\uD83D\\uDCCA Statistiques & validations\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(\"historique\"),style:tabStyle(activeTab===\"historique\",\"#2196F3\"),children:\"\\uD83D\\uDCC4 Historique par agent\"})]}),activeTab===\"stats\"&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCCA Statistiques des agents\"}),/*#__PURE__*/_jsxs(\"table\",{style:{width:\"100%\",borderCollapse:\"collapse\",marginTop:20},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:cellStyle,children:\"Nom\"}),/*#__PURE__*/_jsx(\"th\",{style:cellStyle,children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{style:cellStyle,children:\"Appels\"}),/*#__PURE__*/_jsx(\"th\",{style:cellStyle,children:\"Signatures\"}),/*#__PURE__*/_jsx(\"th\",{style:cellStyle,children:\"Non signatures\"}),/*#__PURE__*/_jsx(\"th\",{style:cellStyle,children:\"\\xC0 valider\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:stats.map(agent=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:cellStyle,children:agent.name}),/*#__PURE__*/_jsx(\"td\",{style:cellStyle,children:agent.email}),/*#__PURE__*/_jsx(\"td\",{style:cellStyle,children:agent.total_appels}),/*#__PURE__*/_jsx(\"td\",{style:cellStyle,children:agent.signatures}),/*#__PURE__*/_jsx(\"td\",{style:cellStyle,children:agent.non_signatures}),/*#__PURE__*/_jsx(\"td\",{style:cellStyle,children:agent.a_valider})]},agent.id))})]}),/*#__PURE__*/_jsx(\"h2\",{style:{marginTop:40,color:\"#444\"},children:\"\\uD83D\\uDCCC Contacts en attente de validation\"}),contactsAValider.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"Aucun contact \\xE0 valider.\"}):/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:\"none\",paddingLeft:0},children:contactsAValider.map(c=>/*#__PURE__*/_jsxs(\"li\",{style:{border:\"1px solid #ccc\",padding:10,marginBottom:10,borderRadius:6,backgroundColor:\"#fff\"},children:[/*#__PURE__*/_jsx(\"strong\",{children:c.nom}),\" \\u2014 \\uD83D\\uDCDE \",c.telephone,/*#__PURE__*/_jsx(\"br\",{}),\"\\uD83C\\uDFE0 \",c.adresse||\"—\",\" \",c.npa||\"\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uD83D\\uDCC5 RDV :\",\" \",c.rdv_date?new Date(c.rdv_date).toLocaleDateString(\"fr-FR\"):\"Non défini\",/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:8},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>validerContact(c.id),style:actionBtnStyle(\"#4CAF50\"),children:\"\\u2705 Valider\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>archiverContact(c.id),style:actionBtnStyle(\"#f44336\"),children:\"\\u274C Refuser\"})]})]},c.id))})]}),activeTab===\"historique\"&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDCC4 Historique des validations par agent\"}),agents.map(agent=>{const historiques=appelHistory.filter(a=>a.agent_id===agent.id&&(a.commentaire||\"\").toLowerCase().includes(\"signature\"));if(historiques.length===0)return null;return/*#__PURE__*/_jsxs(\"div\",{style:{border:\"1px solid #ccc\",borderRadius:6,padding:15,marginBottom:20,backgroundColor:\"#f9f9f9\"},children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"\\uD83D\\uDC64 \",agent.name]}),/*#__PURE__*/_jsx(\"ul\",{children:historiques.map(h=>/*#__PURE__*/_jsxs(\"li\",{children:[\"\\uD83D\\uDCC5 \",new Date(h.date).toLocaleString(\"fr-FR\"),\" \\u2014 \\uD83D\\uDDE3\\uFE0F\",\" \",/*#__PURE__*/_jsx(\"strong\",{children:h.commentaire})]},h.id))})]},agent.id);})]})]});}// Styles\nconst cellStyle={border:\"1px solid #ccc\",padding:\"8px\",textAlign:\"left\"};const tabStyle=(isActive,color)=>({marginRight:10,padding:10,backgroundColor:isActive?color:\"#eee\",color:isActive?\"#fff\":\"#000\",border:\"none\",borderRadius:5});const actionBtnStyle=bg=>({marginRight:10,backgroundColor:bg,color:\"#fff\",border:\"none\",padding:\"6px 12px\",borderRadius:4});","map":{"version":3,"names":["React","useEffect","useState","supabase","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DashboardAdmin","stats","setStats","contactsAValider","setContactsAValider","agents","setAgents","appelHistory","setAppelHistory","activeTab","setActiveTab","fetchData","data","users","error","userError","from","select","eq","calls","callError","order","ascending","contacts","contactError","console","finalStats","map","agent","appels","filter","c","agent_id","id","total_appels","length","signatures","a","commentaire","toLowerCase","includes","non_signatures","a_valider","statut","name","email","fetchContactsAValider","validerContact","update","rdv_date","visible_globally","prev","archiverContact","style","padding","fontFamily","maxWidth","margin","children","marginBottom","onClick","tabStyle","width","borderCollapse","marginTop","cellStyle","color","listStyle","paddingLeft","border","borderRadius","backgroundColor","nom","telephone","adresse","npa","Date","toLocaleDateString","actionBtnStyle","historiques","h","date","toLocaleString","textAlign","isActive","marginRight","bg"],"sources":["C:/Users/user/Downloads/monfideleconseiller/src/DashboardAdmin.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { supabase } from \"./supabaseClient\";\r\n\r\n// Types\r\ntype AgentStat = {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n  total_appels: number;\r\n  signatures: number;\r\n  non_signatures: number;\r\n  a_valider: number;\r\n};\r\n\r\ntype Contact = {\r\n  id: string;\r\n  nom: string;\r\n  telephone: string;\r\n  adresse?: string;\r\n  npa?: string;\r\n  agent_id: string;\r\n  rdv_date: string;\r\n  statut: string;\r\n};\r\n\r\ntype Appel = {\r\n  id: string;\r\n  contact_id: string;\r\n  agent_id: string;\r\n  date: string;\r\n  commentaire: string | null;\r\n};\r\n\r\ntype Agent = {\r\n  id: string;\r\n  name: string;\r\n  email: string;\r\n};\r\n\r\nexport default function DashboardAdmin() {\r\n  const [stats, setStats] = useState<AgentStat[]>([]);\r\n  const [contactsAValider, setContactsAValider] = useState<Contact[]>([]);\r\n  const [agents, setAgents] = useState<Agent[]>([]);\r\n  const [appelHistory, setAppelHistory] = useState<Appel[]>([]);\r\n  const [activeTab, setActiveTab] = useState<\"stats\" | \"historique\">(\"stats\");\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      const { data: users, error: userError } = await supabase\r\n        .from(\"users\")\r\n        .select(\"id, name, email\")\r\n        .eq(\"role\", \"agent\");\r\n\r\n      const { data: calls, error: callError } = await supabase\r\n        .from(\"call_history\")\r\n        .select(\"*\")\r\n        .order(\"date\", { ascending: false });\r\n\r\n      const { data: contacts, error: contactError } = await supabase\r\n        .from(\"contacts\")\r\n        .select(\"*\");\r\n\r\n      if (\r\n        !users ||\r\n        !calls ||\r\n        !contacts ||\r\n        userError ||\r\n        callError ||\r\n        contactError\r\n      ) {\r\n        console.error(\"Erreur lors du chargement des données.\");\r\n        return;\r\n      }\r\n\r\n      const finalStats: AgentStat[] = users.map((agent) => {\r\n        const appels = calls.filter((c) => c.agent_id === agent.id);\r\n        const total_appels = appels.length;\r\n        const signatures = appels.filter((a) =>\r\n          (a.commentaire || \"\").toLowerCase().includes(\"signature\")\r\n        ).length;\r\n        const non_signatures = appels.filter((a) =>\r\n          (a.commentaire || \"\").toLowerCase().includes(\"non signature\")\r\n        ).length;\r\n        const a_valider = contacts.filter(\r\n          (c) => c.agent_id === agent.id && c.statut === \"à_valider\"\r\n        ).length;\r\n\r\n        return {\r\n          id: agent.id,\r\n          name: agent.name,\r\n          email: agent.email,\r\n          total_appels,\r\n          signatures,\r\n          non_signatures,\r\n          a_valider,\r\n        };\r\n      });\r\n\r\n      setStats(finalStats);\r\n      setAgents(users);\r\n      setAppelHistory(calls);\r\n    };\r\n\r\n    const fetchContactsAValider = async () => {\r\n      const { data, error } = await supabase\r\n        .from(\"contacts\")\r\n        .select(\"*\")\r\n        .eq(\"statut\", \"à_valider\");\r\n\r\n      if (!error && data) {\r\n        setContactsAValider(data);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n    fetchContactsAValider();\r\n  }, []);\r\n\r\n  const validerContact = async (id: string) => {\r\n    await supabase\r\n      .from(\"contacts\")\r\n      .update({\r\n        statut: \"non_assigné\",\r\n        agent_id: null,\r\n        rdv_date: null,\r\n        visible_globally: true,\r\n      })\r\n      .eq(\"id\", id);\r\n\r\n    setContactsAValider((prev) => prev.filter((c) => c.id !== id));\r\n  };\r\n\r\n  const archiverContact = async (id: string) => {\r\n    await supabase\r\n      .from(\"contacts\")\r\n      .update({\r\n        statut: \"archivé\",\r\n        visible_globally: false,\r\n      })\r\n      .eq(\"id\", id);\r\n\r\n    setContactsAValider((prev) => prev.filter((c) => c.id !== id));\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: 20,\r\n        fontFamily: \"Arial\",\r\n        maxWidth: 1000,\r\n        margin: \"auto\",\r\n      }}\r\n    >\r\n      <h1>👑 Tableau de bord Admin</h1>\r\n\r\n      {/* Onglets */}\r\n      <div style={{ marginBottom: 20 }}>\r\n        <button\r\n          onClick={() => setActiveTab(\"stats\")}\r\n          style={tabStyle(activeTab === \"stats\", \"#4CAF50\")}\r\n        >\r\n          📊 Statistiques & validations\r\n        </button>\r\n        <button\r\n          onClick={() => setActiveTab(\"historique\")}\r\n          style={tabStyle(activeTab === \"historique\", \"#2196F3\")}\r\n        >\r\n          📄 Historique par agent\r\n        </button>\r\n      </div>\r\n\r\n      {/* STATISTIQUES */}\r\n      {activeTab === \"stats\" && (\r\n        <>\r\n          <h2>📊 Statistiques des agents</h2>\r\n          <table\r\n            style={{ width: \"100%\", borderCollapse: \"collapse\", marginTop: 20 }}\r\n          >\r\n            <thead>\r\n              <tr>\r\n                <th style={cellStyle}>Nom</th>\r\n                <th style={cellStyle}>Email</th>\r\n                <th style={cellStyle}>Appels</th>\r\n                <th style={cellStyle}>Signatures</th>\r\n                <th style={cellStyle}>Non signatures</th>\r\n                <th style={cellStyle}>À valider</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {stats.map((agent) => (\r\n                <tr key={agent.id}>\r\n                  <td style={cellStyle}>{agent.name}</td>\r\n                  <td style={cellStyle}>{agent.email}</td>\r\n                  <td style={cellStyle}>{agent.total_appels}</td>\r\n                  <td style={cellStyle}>{agent.signatures}</td>\r\n                  <td style={cellStyle}>{agent.non_signatures}</td>\r\n                  <td style={cellStyle}>{agent.a_valider}</td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n\r\n          <h2 style={{ marginTop: 40, color: \"#444\" }}>\r\n            📌 Contacts en attente de validation\r\n          </h2>\r\n          {contactsAValider.length === 0 ? (\r\n            <p>Aucun contact à valider.</p>\r\n          ) : (\r\n            <ul style={{ listStyle: \"none\", paddingLeft: 0 }}>\r\n              {contactsAValider.map((c) => (\r\n                <li\r\n                  key={c.id}\r\n                  style={{\r\n                    border: \"1px solid #ccc\",\r\n                    padding: 10,\r\n                    marginBottom: 10,\r\n                    borderRadius: 6,\r\n                    backgroundColor: \"#fff\",\r\n                  }}\r\n                >\r\n                  <strong>{c.nom}</strong> — 📞 {c.telephone}\r\n                  <br />\r\n                  🏠 {c.adresse || \"—\"} {c.npa || \"\"}\r\n                  <br />\r\n                  📅 RDV :{\" \"}\r\n                  {c.rdv_date\r\n                    ? new Date(c.rdv_date).toLocaleDateString(\"fr-FR\")\r\n                    : \"Non défini\"}\r\n                  <div style={{ marginTop: 8 }}>\r\n                    <button\r\n                      onClick={() => validerContact(c.id)}\r\n                      style={actionBtnStyle(\"#4CAF50\")}\r\n                    >\r\n                      ✅ Valider\r\n                    </button>\r\n                    <button\r\n                      onClick={() => archiverContact(c.id)}\r\n                      style={actionBtnStyle(\"#f44336\")}\r\n                    >\r\n                      ❌ Refuser\r\n                    </button>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* HISTORIQUE */}\r\n      {activeTab === \"historique\" && (\r\n        <div>\r\n          <h2>📄 Historique des validations par agent</h2>\r\n          {agents.map((agent) => {\r\n            const historiques = appelHistory.filter(\r\n              (a) =>\r\n                a.agent_id === agent.id &&\r\n                (a.commentaire || \"\").toLowerCase().includes(\"signature\")\r\n            );\r\n\r\n            if (historiques.length === 0) return null;\r\n\r\n            return (\r\n              <div\r\n                key={agent.id}\r\n                style={{\r\n                  border: \"1px solid #ccc\",\r\n                  borderRadius: 6,\r\n                  padding: 15,\r\n                  marginBottom: 20,\r\n                  backgroundColor: \"#f9f9f9\",\r\n                }}\r\n              >\r\n                <h3>👤 {agent.name}</h3>\r\n                <ul>\r\n                  {historiques.map((h) => (\r\n                    <li key={h.id}>\r\n                      📅 {new Date(h.date).toLocaleString(\"fr-FR\")} — 🗣️{\" \"}\r\n                      <strong>{h.commentaire}</strong>\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Styles\r\nconst cellStyle: React.CSSProperties = {\r\n  border: \"1px solid #ccc\",\r\n  padding: \"8px\",\r\n  textAlign: \"left\",\r\n};\r\n\r\nconst tabStyle = (isActive: boolean, color: string): React.CSSProperties => ({\r\n  marginRight: 10,\r\n  padding: 10,\r\n  backgroundColor: isActive ? color : \"#eee\",\r\n  color: isActive ? \"#fff\" : \"#000\",\r\n  border: \"none\",\r\n  borderRadius: 5,\r\n});\r\n\r\nconst actionBtnStyle = (bg: string): React.CSSProperties => ({\r\n  marginRight: 10,\r\n  backgroundColor: bg,\r\n  color: \"#fff\",\r\n  border: \"none\",\r\n  padding: \"6px 12px\",\r\n  borderRadius: 4,\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}